# ES麻将役种查询助手

一个帮助用户查询和筛选ES麻将役种组合关系的Web应用，优化游戏策略。

## 使用方法

### 压缩包内文件介绍
- **index.html**：核心查询功能界面，用户输入成员名称后显示相关役种
- **database.html**：数据库管理页面，用于添加、编辑、删除役种，以及导入导出数据
- **data.js**：存储役种数据的JavaScript文件，包含所有役种的详细信息
- **README.md**：使用说明文档，包含安装步骤、功能介绍和使用说明
- PS:由于目前暂无技术支持数据库实时编辑，因此database目前仅作为所有役种的展示页

### 压缩包形态（无论手机还是电脑端）；
1. 解压es_mahjong_helper_v51.zip文件，且确保解压后的文件夹在手机端可见
- ❗️尤其注意index.html一定要和data.js文件在同一根目录下
2. 打开index.html文件即可开始使用（此为核心查询功能界面）
- 手机端推荐使用夸克解压，点击一键解压后可以在已解压列表中直接点击使用

## 功能特点

### 核心功能
- **角色查询**：输入角色名称，快速查找包含该角色的所有役种
- **凑牌建议**：根据已选角色，智能推荐可凑成的役种组合
- **智能排序**：按已凑齐成员数量降序排列，优先显示接近完成的役种
- **胜利进度追踪**：实时显示已凑齐的役种数量和完成进度
- **役种数据库管理**：支持添加、编辑、删除役种，以及导入导出数据

### 亮点功能
- **推荐役种**：智能推荐最优的不重复成员组合，优先选择加分高的役种
- **胡牌建议**：当用户选择9个或更多成员但未达成胡牌条件时，提供具体的替换建议
- **拖放导入**：支持将JSON文件直接拖放到数据库管理页面进行数据导入

## 技术栈

- HTML5
- JavaScript
- Tailwind CSS v3
- Font Awesome

## 使用说明

### 查询页面 (index.html)

1. 在输入框中输入成员名称，支持自动补全
2. 点击"+"按钮或按回车键添加成员
3. 点击"查询"按钮或按回车键开始搜索
4. 查看凑牌建议和推荐役种
5. 已凑成的役种会显示在"已凑成的配队"区域
6. 当已选成员达到9个或更多时，会显示胡牌建议

### 数据库管理页面 (database.html)
目前未进行服务器对接，因此实时更改数据库信息暂时无法实现，只能通过修改data.js文件来更新数据

1. **数据导入**：
   - 将JSON文件拖放到指定区域
   - 或点击"选择文件"按钮选择文件
   - 输入管理员密码进行验证

2. **数据导出**：
   - 点击"导出为JSON"按钮导出当前数据
   - 点击"导出为CSV"按钮导出为CSV格式

3. **添加役种**：
   - 填写役种名称、分类、加分
   - 在文本框中每行输入一个成员名称
   - 点击"添加役种"按钮

4. **编辑/删除役种**：
   - 在役种列表中点击"编辑"按钮
   - 修改信息后点击"保存修改"
   - 或点击"删除役种"按钮（需要管理员密码验证）

## 游戏规则

- 每个役种仅需凑够其中的三张牌
- 需要胡三个役种，且役种间人员无重叠
- 加分规则：根据役种的稀有度和难度设置不同的加分

## 管理员密码
- 新增数据的两种方式
   - 1、电脑端通过编程软件打开data.js数据库文件，按照数据格式添加新的役种数据
   - 2、通过数据库管理页面导入JSON文件，需要管理员密码验证
默认管理员密码：`aruai1351`

## 数据格式
役种数据格式示例：
- category: 分类（例如："洗牌"、"特殊"等）
- name: 役种名称
- score: 加分值
- members: 成员名称数组（9个元素，未占用位置用"-"表示）
